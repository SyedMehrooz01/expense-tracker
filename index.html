<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen p-4">
    <div class="max-w-4xl mx-auto">
        <!-- Header Card -->
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <h1 class="text-3xl font-bold text-gray-800 mb-2 flex items-center gap-2">
                üí∞ Expense Tracker
            </h1>
            <p class="text-gray-600 mb-6">Track your daily expenses easily</p>

            <!-- Statistics Cards -->
            <div class="grid md:grid-cols-3 gap-4 mb-6">
                <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                    <p class="text-sm text-gray-600 mb-1">Total Expenses</p>
                    <p id="totalExpenses" class="text-2xl font-bold text-green-600">$0.00</p>
                </div>
                <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                    <p class="text-sm text-gray-600 mb-1">Transactions</p>
                    <p id="transactionCount" class="text-2xl font-bold text-blue-600">0</p>
                </div>
                <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                    <p class="text-sm text-gray-600 mb-1">Average</p>
                    <p id="averageExpense" class="text-2xl font-bold text-purple-600">$0.00</p>
                </div>
            </div>

            <!-- Add Expense Form -->
            <div class="bg-gray-50 p-4 rounded-lg mb-6">
                <h3 class="font-semibold text-gray-700 mb-3">Add New Expense</h3>
                <div class="grid md:grid-cols-4 gap-3">
                    <input
                        type="text"
                        id="description"
                        placeholder="Description"
                        class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <input
                        type="number"
                        id="amount"
                        placeholder="Amount"
                        step="0.01"
                        class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                    <select
                        id="category"
                        class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                        <option>Food</option>
                        <option>Transport</option>
                        <option>Shopping</option>
                        <option>Bills</option>
                        <option>Entertainment</option>
                        <option>Other</option>
                    </select>
                    <button
                        onclick="addExpense()"
                        class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition font-semibold"
                    >
                        Add
                    </button>
                </div>
            </div>

            <!-- Category Breakdown -->
            <div id="categoryBreakdown" class="bg-indigo-50 p-4 rounded-lg mb-6 hidden">
                <h3 class="font-semibold text-gray-700 mb-3">Spending by Category</h3>
                <div id="categoryList" class="grid grid-cols-2 md:grid-cols-3 gap-3"></div>
            </div>
        </div>

        <!-- Expense List -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <h2 class="text-xl font-bold text-gray-800 mb-4">Recent Expenses</h2>
            <div id="expenseList">
                <p class="text-gray-500 text-center py-8">No expenses yet. Add one above!</p>
            </div>
        </div>
    </div>

    <script>
        // Initialize expenses array from localStorage
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];

        // Load expenses on page load
        window.onload = function() {
            displayExpenses();
            updateStatistics();
        };

        // Add new expense
        function addExpense() {
            const description = document.getElementById('description').value.trim();
            const amount = parseFloat(document.getElementById('amount').value);
            const category = document.getElementById('category').value;

            if (description && amount && amount > 0) {
                const expense = {
                    id: Date.now(),
                    description: description,
                    amount: amount,
                    category: category,
                    date: new Date().toLocaleDateString()
                };

                expenses.unshift(expense);
                localStorage.setItem('expenses', JSON.stringify(expenses));

                // Clear inputs
                document.getElementById('description').value = '';
                document.getElementById('amount').value = '';

                // Update display
                displayExpenses();
                updateStatistics();
            } else {
                alert('Please enter valid description and amount!');
            }
        }

        // Display all expenses
        function displayExpenses() {
            const expenseList = document.getElementById('expenseList');

            if (expenses.length === 0) {
                expenseList.innerHTML = '<p class="text-gray-500 text-center py-8">No expenses yet. Add one above!</p>';
                return;
            }

            expenseList.innerHTML = expenses.map(expense => `
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition mb-2">
                    <div class="flex-1">
                        <p class="font-semibold text-gray-800">${expense.description}</p>
                        <p class="text-sm text-gray-600">${expense.category} ‚Ä¢ ${expense.date}</p>
                    </div>
                    <div class="flex items-center gap-3">
                        <p class="text-lg font-bold text-green-600">$${expense.amount.toFixed(2)}</p>
                        <button
                            onclick="deleteExpense(${expense.id})"
                            class="text-red-500 hover:text-red-700 transition"
                        >
                            üóëÔ∏è
                        </button>
                    </div>
                </div>
            `).join('');
        }

        // Delete expense
        function deleteExpense(id) {
            expenses = expenses.filter(expense => expense.id !== id);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            displayExpenses();
            updateStatistics();
        }

        // Update statistics
        function updateStatistics() {
            const total = expenses.reduce((sum, expense) => sum + expense.amount, 0);
            const count = expenses.length;
            const average = count > 0 ? total / count : 0;

            document.getElementById('totalExpenses').textContent = `$${total.toFixed(2)}`;
            document.getElementById('transactionCount').textContent = count;
            document.getElementById('averageExpense').textContent = `$${average.toFixed(2)}`;

            // Update category breakdown
            updateCategoryBreakdown();
        }

        // Update category breakdown
        function updateCategoryBreakdown() {
            const categoryTotals = {};
            expenses.forEach(expense => {
                categoryTotals[expense.category] = (categoryTotals[expense.category] || 0) + expense.amount;
            });

            const categoryBreakdown = document.getElementById('categoryBreakdown');
            const categoryList = document.getElementById('categoryList');

            if (Object.keys(categoryTotals).length > 0) {
                categoryBreakdown.classList.remove('hidden');
                categoryList.innerHTML = Object.entries(categoryTotals).map(([category, amount]) => `
                    <div class="bg-white p-3 rounded border border-indigo-200">
                        <p class="text-sm text-gray-600">${category}</p>
                        <p class="text-lg font-bold text-indigo-600">$${amount.toFixed(2)}</p>
                    </div>
                `).join('');
            } else {
                categoryBreakdown.classList.add('hidden');
            }
        }

        // Allow Enter key to add expense
        document.getElementById('amount').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addExpense();
            }
        });
    </script>
</body>
</html>
